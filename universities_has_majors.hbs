<h2>Assign Majors to Universities (M:N)</h2>

<fieldset>
    <legend>Existing Assignments</legend>
    <table border="1">
        <thead>
            <tr>
                <th>University</th>
                <th>Major</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {{#each assignments}}
            <tr>
                <form method="POST" action="/universities_has_majors/update" style="display:contents;">
                    
                                        <td>
                        {{this.universityName}}
                        <input type="hidden" name="universityID" value="{{this.universityID}}">
                    </td>

                                        <td>
                        <select name="majorID" required>
                            <option value="{{this.majorID}}" selected>{{this.level}} - {{this.program}}</option>
                            <hr>{{#each ../majors}}
                                <option value="{{this.majorID}}">{{this.level}} - {{this.program}}</option>
                            {{/each}}
                        </select>
                    </td>

                    <td style="white-space: nowrap;">
                        <input type="hidden" name="originalMajorID" value="{{this.majorID}}">
                        
                        <button type="submit" onclick="return confirm('Are you sure you want to update this major assignment?')">Update</button>
                    </form>
                    
                                        <form method="POST" action="/universities_has_majors/remove" style="display:inline;">
                        <input type="hidden" name="universityID" value="{{this.universityID}}">
                        <input type="hidden" name="majorID" value="{{this.majorID}}">
                        <button type="submit" onclick="return confirm('Are you sure you want to remove this major assignment?')">Delete</button>
                    </form>
                </td>
            </tr>
            {{/each}}
        </tbody>
    </table>
</fieldset>

<br>

<fieldset>
    <legend>Assign a Major to a University</legend>
    <form id="assign_major_form" method="POST" action="/universities_has_majors/add">
        <label for="universityID">University:</label>
        <select id="universityID" name="universityID" required>
            {{#each universities}}
                <option value="{{this.universityID}}">{{this.universityName}}</option>
            {{/each}}
        </select>

        <label for="majorID">Major:</label>
        <select id="majorID" name="majorID" required>
            {{#each majors}}
                <option value="{{this.majorID}}">{{this.level}} - {{this.program}}</option>
            {{/each}}
        </select>
        
        <input type="submit" value="Assign Major">
    </form>
</fieldset>